
# Отчет о лабораторной работе №2

**Задача лабораторной работы:** написать скрипт, который проверяет правильность введенного IP-адреса и преобразует его в двоичный формат.

### Предпринятые шаги для выполнения задачи:

### 1. Функция проверки IP-адреса
Функция `ip_validation` проверяет, является ли переданная строка допустимым IP-адресом IPv4 с использованием регулярного выражения:
```bash
ip_validation(){
    local ip="$1"
    if [[ $ip =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
        echo 'Правильный формат'
        echo "Ваш IP: $ip"
    else
        echo 'Неправильный формат, перезапустите этот скрипт'
        exit 1
    fi
}
```
- **Ввод**: Строка с IP-адресом.
- **Вывод**: 
  - Если IP-адрес верен, выводится сообщение "Правильный формат" и сам IP.
  - Если IP-адрес неверен, скрипт завершает работу с сообщением об ошибке.
  
## 2. Функция преобразования в двоичный формат
Функция `to_binary` преобразует каждый октет IP-адреса в двоичный формат:
```bash
to_binary(){
    local ip="$1"
    IFS='.'
    read octet1 octet2 octet3 octet4 <<< "$ip"
    b_octet1=$(printf "%08d" "$(bc <<< "obase=2; $octet1")")
    b_octet2=$(printf "%08d" "$(bc <<< "obase=2; $octet2")")
    b_octet3=$(printf "%08d" "$(bc <<< "obase=2; $octet3")")
    b_octet4=$(printf "%08d" "$(bc <<< "obase=2; $octet4")")
    echo "Ваш IP в двоичном формате:"
    echo "$b_octet1.$b_octet2.$b_octet3.$b_octet4"
}
```
- **Ввод**: Допустимая строка с IPv4-адресом.
- **Вывод**: IP-адрес преобразован в двоичный формат и отображается в виде `xxx.xxx.xxx.xxx`.
  

### 3. Чтение данных и вызовы функций 
В конце скрипта пользователю предлагается ввести IPv4-адрес:
```bash
read -p "Пожалуйста, введите IPv4-адрес: " ip
ip_validation "$ip"
to_binary "$ip"
```
- Скрипт считывает ввод с помощью команды `read` и передает IP-адрес в функцию `ip_validation`.
- Если IP-адрес корректен, он преобразуется в двоичный формат с использованием функции `to_binary`.

## Заключение
Этот скрипт проверяет IPv4-адрес и преобразует их в двоичный формат. В нем используются базовые конструкции bash-скриптов, такие как функции, `read` и регулярные выражения.

#### Информатика ИТМО 2024
